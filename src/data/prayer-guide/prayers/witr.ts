import type { PrayerDefinition } from '../types';

export const witr: PrayerDefinition = {
  id: 'witr',
  name: 'Witr',
  nameAr: 'الوتر',
  ruling: 'sunnah-muakkada',
  rakaatCount: '1 ou 3',
  description: 'Priere impaire — 1 ou 3 unites (apres Isha)',
  rakaat: [
    // --- Rak'a 1 (voix haute) ---
    {
      number: 1,
      steps: [
        {
          id: 'witr-r1-takbir',
          position: 'takbir',
          ruling: 'fard',
          name: 'Takbirat al-Ihram',
          nameAr: 'تكبيرة الإحرام',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
          notes: 'Lever les mains au niveau des oreilles ou des epaules',
        },
        {
          id: 'witr-r1-qiyam',
          position: 'qiyam',
          ruling: 'fard',
          name: 'Qiyam — Fatiha + Sourate',
          nameAr: 'قيام — الفاتحة + سورة',
          dhikr: 'Reciter la Fatiha puis une sourate (voix haute)',
          dhikrAr: 'بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ ﴿١﴾ الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ ﴿٢﴾',
          notes: 'Recitation a voix haute (Jahr) — Sourate Al-A\'la recommandee',
        },
        {
          id: 'witr-r1-takbir-ruku',
          position: 'takbir',
          ruling: 'wajib',
          name: 'Takbir de transition vers le ruku\'',
          nameAr: 'تكبيرة الانتقال للركوع',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r1-ruku',
          position: 'ruku',
          ruling: 'fard',
          name: 'Ruku (inclinaison)',
          nameAr: 'ركوع',
          dhikr: 'Gloire a mon Seigneur le Tres Grand',
          dhikrAr: 'سبحان ربي العظيم',
          dhikrTranslit: 'Subhana Rabbiyal-Adhim',
          repetitions: 3,
        },
        {
          id: 'witr-r1-itidal',
          position: 'itidal',
          ruling: 'wajib',
          name: 'I\'tidal (redressement)',
          nameAr: 'اعتدال',
          dhikr: 'Allah entend celui qui Le loue — Notre Seigneur, a Toi la louange',
          dhikrAr: 'سمع الله لمن حمده — ربنا ولك الحمد',
          dhikrTranslit: 'Sami\'Allahu liman hamidah — Rabbana wa lakal-hamd',
        },
        {
          id: 'witr-r1-takbir-sujud1',
          position: 'itidal',
          ruling: 'wajib',
          name: 'Takbir de transition vers la prosternation',
          nameAr: 'تكبيرة الانتقال للسجود',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r1-sujud1',
          position: 'sujud',
          ruling: 'fard',
          name: 'Premier Sujud',
          nameAr: 'السجود الأول',
          dhikr: 'Gloire a mon Seigneur le Tres Haut',
          dhikrAr: 'سبحان ربي الأعلى',
          dhikrTranslit: 'Subhana Rabbiyal-A\'la',
          repetitions: 3,
        },
        {
          id: 'witr-r1-takbir-julus',
          position: 'sujud',
          ruling: 'wajib',
          name: 'Takbir de transition vers la position assise',
          nameAr: 'تكبيرة الانتقال للجلوس',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r1-julus',
          position: 'julus',
          ruling: 'wajib',
          name: 'Julus (assise entre les deux prosternations)',
          nameAr: 'جلوس بين السجدتين',
          dhikr: 'Seigneur, pardonne-moi',
          dhikrAr: 'رب اغفر لي',
          dhikrTranslit: 'Rabbi ighfir li',
        },
        {
          id: 'witr-r1-takbir-sujud2',
          position: 'julus',
          ruling: 'wajib',
          name: 'Takbir de transition vers la 2e prosternation',
          nameAr: 'تكبيرة الانتقال للسجدة الثانية',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r1-sujud2',
          position: 'sujud',
          ruling: 'fard',
          name: 'Deuxieme Sujud',
          nameAr: 'السجود الثاني',
          dhikr: 'Gloire a mon Seigneur le Tres Haut',
          dhikrAr: 'سبحان ربي الأعلى',
          dhikrTranslit: 'Subhana Rabbiyal-A\'la',
          repetitions: 3,
        },
      ],
    },

    // --- Rak'a 2 (voix haute) + Tashahud ---
    {
      number: 2,
      steps: [
        {
          id: 'witr-r2-takbir',
          position: 'sujud',
          ruling: 'wajib',
          name: 'Takbir de transition',
          nameAr: 'تكبير الانتقال',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r2-qiyam',
          position: 'qiyam',
          ruling: 'fard',
          name: 'Qiyam — Fatiha + Sourate',
          nameAr: 'قيام — الفاتحة + سورة',
          dhikr: 'Reciter la Fatiha puis une sourate (voix haute)',
          dhikrAr: 'بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ ﴿١﴾ الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ ﴿٢﴾',
          notes: 'Recitation a voix haute (Jahr) — Sourate Al-Kafirun recommandee',
        },
        {
          id: 'witr-r2-takbir-ruku',
          position: 'takbir',
          ruling: 'wajib',
          name: 'Takbir de transition vers le ruku\'',
          nameAr: 'تكبيرة الانتقال للركوع',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r2-ruku',
          position: 'ruku',
          ruling: 'fard',
          name: 'Ruku (inclinaison)',
          nameAr: 'ركوع',
          dhikr: 'Gloire a mon Seigneur le Tres Grand',
          dhikrAr: 'سبحان ربي العظيم',
          dhikrTranslit: 'Subhana Rabbiyal-Adhim',
          repetitions: 3,
        },
        {
          id: 'witr-r2-itidal',
          position: 'itidal',
          ruling: 'wajib',
          name: 'I\'tidal (redressement)',
          nameAr: 'اعتدال',
          dhikr: 'Allah entend celui qui Le loue — Notre Seigneur, a Toi la louange',
          dhikrAr: 'سمع الله لمن حمده — ربنا ولك الحمد',
          dhikrTranslit: 'Sami\'Allahu liman hamidah — Rabbana wa lakal-hamd',
        },
        {
          id: 'witr-r2-takbir-sujud1',
          position: 'itidal',
          ruling: 'wajib',
          name: 'Takbir de transition vers la prosternation',
          nameAr: 'تكبيرة الانتقال للسجود',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r2-sujud1',
          position: 'sujud',
          ruling: 'fard',
          name: 'Premier Sujud',
          nameAr: 'السجود الأول',
          dhikr: 'Gloire a mon Seigneur le Tres Haut',
          dhikrAr: 'سبحان ربي الأعلى',
          dhikrTranslit: 'Subhana Rabbiyal-A\'la',
          repetitions: 3,
        },
        {
          id: 'witr-r2-takbir-julus',
          position: 'sujud',
          ruling: 'wajib',
          name: 'Takbir de transition vers la position assise',
          nameAr: 'تكبيرة الانتقال للجلوس',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r2-julus',
          position: 'julus',
          ruling: 'wajib',
          name: 'Julus (assise entre les deux prosternations)',
          nameAr: 'جلوس بين السجدتين',
          dhikr: 'Seigneur, pardonne-moi',
          dhikrAr: 'رب اغفر لي',
          dhikrTranslit: 'Rabbi ighfir li',
        },
        {
          id: 'witr-r2-takbir-sujud2',
          position: 'julus',
          ruling: 'wajib',
          name: 'Takbir de transition vers la 2e prosternation',
          nameAr: 'تكبيرة الانتقال للسجدة الثانية',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r2-sujud2',
          position: 'sujud',
          ruling: 'fard',
          name: 'Deuxieme Sujud',
          nameAr: 'السجود الثاني',
          dhikr: 'Gloire a mon Seigneur le Tres Haut',
          dhikrAr: 'سبحان ربي الأعلى',
          dhikrTranslit: 'Subhana Rabbiyal-A\'la',
          repetitions: 3,
        },
        {
          id: 'witr-r2-tashahud',
          position: 'tashahud',
          ruling: 'sunnah',
          name: 'Tashahud intermediaire',
          nameAr: 'التشهد الأوسط',
          dhikr: 'Les salutations sont pour Allah, ainsi que les prieres et les bonnes oeuvres. Paix sur toi, o Prophete, ainsi que la misericorde d\'Allah et Ses benedictions. Paix sur nous et sur les serviteurs pieux d\'Allah. J\'atteste qu\'il n\'y a de divinite qu\'Allah et j\'atteste que Muhammad est Son serviteur et Son Messager.',
          dhikrAr: 'التَّحِيَّاتُ لِلَّهِ وَالصَّلَوَاتُ وَالطَّيِّبَاتُ، السَّلَامُ عَلَيْكَ أَيُّهَا النَّبِيُّ وَرَحْمَةُ اللَّهِ وَبَرَكَاتُهُ، السَّلَامُ عَلَيْنَا وَعَلَى عِبَادِ اللَّهِ الصَّالِحِينَ، أَشْهَدُ أَنْ لَا إِلَهَ إِلَّا اللَّهُ وَأَشْهَدُ أَنَّ مُحَمَّدًا عَبْدُهُ وَرَسُولُهُ',
          dhikrTranslit: 'At-tahiyyatu lillahi was-salawatu wat-tayyibat, as-salamu \'alayka ayyuhan-Nabiyyu wa rahmatullahi wa barakatuh, as-salamu \'alayna wa \'ala \'ibadillahis-salihin, ash-hadu an la ilaha illAllah wa ash-hadu anna Muhammadan \'abduhu wa rasuluh',
          notes: 'Tashahud intermediaire (sunnah dans le Witr)',
        },
      ],
    },

    // --- Rak'a 3 (voix haute) + Qunut + Tashahud final + Salam ---
    {
      number: 3,
      steps: [
        {
          id: 'witr-r3-takbir',
          position: 'takbir',
          ruling: 'wajib',
          name: 'Takbir de transition',
          nameAr: 'تكبير الانتقال',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r3-qiyam',
          position: 'qiyam',
          ruling: 'fard',
          name: 'Qiyam — Fatiha + Sourate',
          nameAr: 'قيام — الفاتحة + سورة',
          dhikr: 'Reciter la Fatiha puis une sourate (voix haute)',
          dhikrAr: 'بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ ﴿١﴾ الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ ﴿٢﴾',
          notes: 'Recitation a voix haute (Jahr) — Sourate Al-Ikhlas recommandee',
        },
        {
          id: 'witr-r3-qunut',
          position: 'qunut',
          ruling: 'sunnah-muakkada',
          name: 'Du\'a al-Qunut',
          nameAr: 'دعاء القنوت',
          dhikr: 'O Allah, guide-moi parmi ceux que Tu as guides, accorde-moi le bien-etre parmi ceux a qui Tu l\'as accorde, prends-moi en charge parmi ceux dont Tu as pris la charge, benis-moi dans ce que Tu m\'as donne, et preserve-moi du mal que Tu as decrete...',
          dhikrAr: 'اللهم اهدني فيمن هديت، وعافني فيمن عافيت، وتولني فيمن توليت، وبارك لي فيما أعطيت، وقني شر ما قضيت، فإنك تقضي ولا يقضى عليك، إنه لا يذل من واليت، ولا يعز من عاديت، تباركت ربنا وتعاليت',
          dhikrTranslit: 'Allahumma ihdini fiman hadayt, wa \'afini fiman \'afayt, wa tawallani fiman tawallayt, wa barik li fima a\'tayt, wa qini sharra ma qadayt, fa innaka taqdi wa la yuqda \'alayk, innahu la yadhillu man walayt, wa la ya\'izzu man \'adayt, tabarakta Rabbana wa ta\'alayt',
          notes: 'Lever les mains pour l\'invocation apres la recitation, avant le ruku',
        },
        {
          id: 'witr-r3-takbir-ruku',
          position: 'takbir',
          ruling: 'wajib',
          name: 'Takbir de transition vers le ruku\'',
          nameAr: 'تكبيرة الانتقال للركوع',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r3-ruku',
          position: 'ruku',
          ruling: 'fard',
          name: 'Ruku (inclinaison)',
          nameAr: 'ركوع',
          dhikr: 'Gloire a mon Seigneur le Tres Grand',
          dhikrAr: 'سبحان ربي العظيم',
          dhikrTranslit: 'Subhana Rabbiyal-Adhim',
          repetitions: 3,
        },
        {
          id: 'witr-r3-itidal',
          position: 'itidal',
          ruling: 'wajib',
          name: 'I\'tidal (redressement)',
          nameAr: 'اعتدال',
          dhikr: 'Allah entend celui qui Le loue — Notre Seigneur, a Toi la louange',
          dhikrAr: 'سمع الله لمن حمده — ربنا ولك الحمد',
          dhikrTranslit: 'Sami\'Allahu liman hamidah — Rabbana wa lakal-hamd',
        },
        {
          id: 'witr-r3-takbir-sujud1',
          position: 'itidal',
          ruling: 'wajib',
          name: 'Takbir de transition vers la prosternation',
          nameAr: 'تكبيرة الانتقال للسجود',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r3-sujud1',
          position: 'sujud',
          ruling: 'fard',
          name: 'Premier Sujud',
          nameAr: 'السجود الأول',
          dhikr: 'Gloire a mon Seigneur le Tres Haut',
          dhikrAr: 'سبحان ربي الأعلى',
          dhikrTranslit: 'Subhana Rabbiyal-A\'la',
          repetitions: 3,
        },
        {
          id: 'witr-r3-takbir-julus',
          position: 'sujud',
          ruling: 'wajib',
          name: 'Takbir de transition vers la position assise',
          nameAr: 'تكبيرة الانتقال للجلوس',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r3-julus',
          position: 'julus',
          ruling: 'wajib',
          name: 'Julus (assise entre les deux prosternations)',
          nameAr: 'جلوس بين السجدتين',
          dhikr: 'Seigneur, pardonne-moi',
          dhikrAr: 'رب اغفر لي',
          dhikrTranslit: 'Rabbi ighfir li',
        },
        {
          id: 'witr-r3-takbir-sujud2',
          position: 'julus',
          ruling: 'wajib',
          name: 'Takbir de transition vers la 2e prosternation',
          nameAr: 'تكبيرة الانتقال للسجدة الثانية',
          dhikr: 'Allah est le plus Grand',
          dhikrAr: 'الله أكبر',
          dhikrTranslit: 'Allahu Akbar',
        },
        {
          id: 'witr-r3-sujud2',
          position: 'sujud',
          ruling: 'fard',
          name: 'Deuxieme Sujud',
          nameAr: 'السجود الثاني',
          dhikr: 'Gloire a mon Seigneur le Tres Haut',
          dhikrAr: 'سبحان ربي الأعلى',
          dhikrTranslit: 'Subhana Rabbiyal-A\'la',
          repetitions: 3,
        },
        {
          id: 'witr-r3-tashahud',
          position: 'tashahud',
          ruling: 'fard',
          name: 'Tashahud final + Salawat',
          nameAr: 'التشهد الأخير والصلاة على النبي',
          dhikr: 'Les salutations sont pour Allah, ainsi que les prieres et les bonnes oeuvres. Paix sur toi, o Prophete, ainsi que la misericorde d\'Allah et Ses benedictions. Paix sur nous et sur les serviteurs pieux d\'Allah. J\'atteste qu\'il n\'y a de divinite qu\'Allah et j\'atteste que Muhammad est Son serviteur et Son Messager. O Allah, prie sur Muhammad et sur la famille de Muhammad, comme Tu as prie sur Ibrahim et la famille d\'Ibrahim. Et benis Muhammad et la famille de Muhammad, comme Tu as beni Ibrahim et la famille d\'Ibrahim. Tu es certes Digne de louange et de gloire.',
          dhikrAr: 'التَّحِيَّاتُ لِلَّهِ وَالصَّلَوَاتُ وَالطَّيِّبَاتُ، السَّلَامُ عَلَيْكَ أَيُّهَا النَّبِيُّ وَرَحْمَةُ اللَّهِ وَبَرَكَاتُهُ، السَّلَامُ عَلَيْنَا وَعَلَى عِبَادِ اللَّهِ الصَّالِحِينَ، أَشْهَدُ أَنْ لَا إِلَهَ إِلَّا اللَّهُ وَأَشْهَدُ أَنَّ مُحَمَّدًا عَبْدُهُ وَرَسُولُهُ. اللَّهُمَّ صَلِّ عَلَى مُحَمَّدٍ وَعَلَى آلِ مُحَمَّدٍ كَمَا صَلَّيْتَ عَلَى إِبْرَاهِيمَ وَعَلَى آلِ إِبْرَاهِيمَ، وَبَارِكْ عَلَى مُحَمَّدٍ وَعَلَى آلِ مُحَمَّدٍ كَمَا بَارَكْتَ عَلَى إِبْرَاهِيمَ وَعَلَى آلِ إِبْرَاهِيمَ، إِنَّكَ حَمِيدٌ مَجِيدٌ',
          dhikrTranslit: 'At-tahiyyatu lillahi was-salawatu wat-tayyibat, as-salamu \'alayka ayyuhan-Nabiyyu wa rahmatullahi wa barakatuh, as-salamu \'alayna wa \'ala \'ibadillahis-salihin, ash-hadu an la ilaha illAllah wa ash-hadu anna Muhammadan \'abduhu wa rasuluh. Allahumma salli \'ala Muhammad wa \'ala ali Muhammad, kama sallayta \'ala Ibrahim wa \'ala ali Ibrahim. Wa barik \'ala Muhammad wa \'ala ali Muhammad, kama barakta \'ala Ibrahim wa \'ala ali Ibrahim, innaka Hamidun Majid',
          notes: 'Tashahud complet (fard) avec les salutations sur le Prophete (Salawat Ibrahimiyya)',
        },
        {
          id: 'witr-r3-salam',
          position: 'salam',
          ruling: 'fard',
          name: 'Taslim (salutations finales)',
          nameAr: 'التسليم',
          dhikr: 'Que la paix et la misericorde d\'Allah soient sur vous',
          dhikrAr: 'السَّلَامُ عَلَيْكُمْ وَرَحْمَةُ اللَّهِ',
          dhikrTranslit: 'As-salamu \'alaykum wa rahmatullah',
          notes: 'Tourner la tete a droite puis a gauche',
        },
      ],
    },
  ],
};
